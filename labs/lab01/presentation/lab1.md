---
## Front matter
lang: ru-RU
title: Лабораторная работа №1
subtitle: Операционные системы
author:
  - Калашникова Ольга Сергеевна НПИбд-01-23
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 02 марта 2024

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'

## Fonts 
mainfont: PT Serif 
romanfont: PT Serif 
sansfont: PT Sans 
monofont: PT Mono 
mainfontoptions: Ligatures=TeX 
romanfontoptions: Ligatures=TeX 
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase 
monofontoptions: Scale=MatchLowercase,Scale=0.9

---

## Цель работы

Целью данной работы является приобретение практических навыков установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы сервисов.

## Задание

1. Создание виртуальной машины.
2. Установка операционной системы.
3. Работа с операционной системой после установки.
4. Установка программного обеспечения для создания документации.
5. Дополнительные задания.

## Создание виртуальной машины

Создаём новую виртуальную машину в графическом интерфейсе, указываем имя виртуальной машины(в моём случае  oskalashnikova), тип операционной системы — Linux, Fedora, выбираем скачанный образ операционной системы Fedora (рис.1).

![Имя и операционная система виртуальной машины](image/1.png){#fig:001 width=50%}

## Создание виртуальной машины

Указываем размер основной памяти виртуальной машины(в моём случае 4096  МБ) и количество ядер (5), а так же на этом этапе включаем поддержку UEFI (рис.2).

![Оборудование](image/2.png){#fig:002 width=50%}

## Создание виртуальной машины

Задаём размер диска (В моём случае 135 ГБ) (рис.3).

![Виртуальный жёсткий диск](image/3.png){#fig:003 width=50%}

## Создание виртуальной машины

После создания машины в настройках в качестве графического контроллера ставим VMSVGA и включаем ускорение 3D, так же увеличиваю коэф масштабирования для зрительного удобства (рис.4).

![Дисплей](image/4.png){#fig:004 width=50%}

## Создание виртуальной машины

Включаем общий буфер обмена и перетаскивание объектов между хостом и гостевой ОС (рис.5).

![Общие настройки](image/5.png){#fig:005 width=50%}

## Настройка хост-клавиши

В меню выбераем Файл, Настройки -> Ввод, вкладка Виртуальная машина -> Сочетание клавиш в строке Хост-комбинация. Нажимаем новое сочетание клавиш и нажимаем ОК, чтобы сохранить изменения. (рис.6).

![Смена хост-клавиши на right shift](image/6.png){#fig:006 width=40%}

## Запуск приложения для установки системы и установка системы на диск

Запускаем виртуальную машину, после при помощи Win+w запускаем liveinst (рис.7).

![Запуск liveinst](image/7.png){#fig:007 width=50%}

## Запуск приложения для установки системы и установка системы на диск

Выбираем язык интерфейса и переходим к настройкам установки операционной системы (рис.8).

![Выбор языка интерфейса](image/8.png){#fig:008 width=50%}

## Запуск приложения для установки системы и установка системы на диск

Выбираем часовой пояс и раскладку клавиатуры (рис.9).

![Выбор часового пояса и раскладки](image/9.png){#fig:009 width=20%}

## Запуск приложения для установки системы и установка системы на диск

Место установки ОС оставляем без изменения (рис.10).

![Выбор места установки](image/10.png){#fig:010 width=50%}

## Запуск приложения для установки системы и установка системы на диск

Задаём сетевое имя компьютера (рис.11).

![Сетевое имя компьютера](image/11.png){#fig:011 width=50%}

## Запуск приложения для установки системы и установка системы на диск

Установливаем имя и пароль для пользователя root (рис.12).

![root](image/12.png){#fig:012 width=50%}

## Запуск приложения для установки системы и установка системы на диск

Установливаем имя и пароль для пользователя (рис.13).

![Пользователь](image/13.png){#fig:013 width=50%}

## Запуск приложения для установки системы и установка системы на диск

У меня оптический диск не отключается автоматически, так что отключаем носитель информации с образом (рис.15).

![Отключенный оптический диск](image/15.png){#fig:015 width=50%}

## Обновления

Для начала переключимся на роль супер-пользователя при помощи команды sudo -i (рис.16).

![sudo](image/16.png){#fig:016 width=50%}

## Обновления

Обновляем все пакеты при помощи команды dnf -y update (рис.17).

![Обновление пакетов](image/17.png){#fig:017 width=50%}

## Повышение комфорта работы

Устанавливаем программы для удобства работы в консоли при помощи dnf -y install tmux mc (рис.18).

![Программы для удобства работы в консоли](image/18.png){#fig:018 width=50%}

## Автоматическое обновление

Будем использовать автоматическое обновление. Установим программное обеспечение при помощи dnf install dnf-automatic (рис.19).

![Установка программного обеспечения](image/19.png){#fig:019 width=50%}

## Автоматическое обновление

Теперь запускаем таймер при помощи команды systemctl enable --now dnf-automatic.timer  (рис.20).

![Таймер](image/20.png){#fig:020 width=50%}

## Отключение SELinux

Сначала зайдём в mc, затем в  файле /etc/selinux/config заменяем значение SELINUX=enforcing на значение SELINUX=permissive и перезагружаем виртуальную машину(рис.22).

![Замена значения](image/22.png){#fig:022 width=30%}

## Установка драйверов для VirtualBox

Запускаем терминальный мультиплексор tmux,переключаемся на рольсупер-пользователя при помощи sudo -i и устанавливаем средства разработки при помощи dnf -y group install "Development Tools" (рис.24).

![Установка средств разработки](image/24.png){#fig:024 width=50%}

## Установка драйверов для VirtualBox

Теперь установим пакет DKMS при помощи dnf -y install dkms (рис.25).

![пакет DKMS](image/25.png){#fig:025 width=50%}

## Установка драйверов для VirtualBox

В меню виртуальной машины подключаем образ диска дополнений гостевой ОС (через меню у меня не работает, поэтому подключала вручную) (рис.26).

![Подключенный образ диска](image/26.png){#fig:026 width=20%}

## Установка драйверов для VirtualBox

Подмонтируем диск при помощи mount /dev/sr0 /media (рис.27).

![Подмонтируем диск](image/27.png){#fig:027 width=50%}

## Установка драйверов для VirtualBox

Устанавливаем драйвера при помощи /media/VBoxLinuxAdditions.run (рис.28).

![Установка драйверов](image/28.png){#fig:028 width=50%}

## Установка драйверов для VirtualBox

Перезагружаем виртуальную машину(reboot) (рис.29).

![Драйвера и reboot](image/28.png){#fig:029 width=50%}

## Настройка раскладки клавиатуры

Запускаем терминальный мультиплексор tmux (рис.30).

![tmux](image/30.png){#fig:030 width=50%}

## Настройка раскладки клавиатуры

Создаём конфигурационный файл ~/.config/sway/config.d/95-system-keyboard-config.conf(для начала все нужные папки) (рис.31).

![Создаём конфигурационный файл](image/31.png){#fig:031 width=50%}

## Настройка раскладки клавиатуры

Переходим в папку с конфигурационным файлом ~/.config/sway/config.d/95-system-keyboard-config.conf (рис.32).

![Перемещение](image/32.png){#fig:032 width=50%}

## Настройка раскладки клавиатуры

Отредактируем конфигурационный файл ~/.config/sway/config.d/95-system-keyboard-config.conf ( добавим в него exec_always /usr/libexec/sway-systemd/locale1-xkb-config --oneshot) (рис.33).

![Редактура](image/33.png){#fig:033 width=50%}

## Настройка раскладки клавиатуры

Переключимся на роль супер-пользователя при помощи sudo -i (рис.34).

![sudo -i](image/34.png){#fig:034 width=50%}

## Настройка раскладки клавиатуры

Преходим в папку с конфигурационным файлом /etc/X11/xorg.conf.d/00-keyboard.conf (рис.35).

![Перемещение 2](image/35.png){#fig:035 width=50%}

## Настройка раскладки клавиатуры

Отредактируем конфигурационный файл /etc/X11/xorg.conf.d/00-keyboard.conf (рис.36).

![Редактура 2](image/36.png){#fig:036 width=50%}

## Настройка раскладки клавиатуры

Перегружаем виртуальную машину при помощи reboot и проверяем смену языка (рис.37).

![Проверка](image/37.png){#fig:037 width=50%}

## Подключение общей папки

Внутри виртуальной машины добавляем своего пользователя в группу vboxsf при помощи gpasswd -a oskalashnikova vboxsf (рис.38).

![Добавление пользователя в группу](image/38.png){#fig:038 width=50%}

## Подключение общей папки

В хостовой системе подключаем разделяемую папку (у меня это windows и команда строится как на фото) (рис.39).

![Подключение разделяемой папки](image/39.png){#fig:039 width=50%}

## Подключение общей папки

Проверяем подключилась ли папка (рис.40).

![Проверка](image/40.png){#fig:040 width=50%}

## Установка программного обеспечения для создания документации

Установливаем pandoc и pandoc-crossref вручную при помощи сайта(проверяем версии) (рис.41).

![Архивы](image/41.png){#fig:041 width=50%}

## Установка программного обеспечения для создания документации

Распаковываем архивы (рис.42).

![Распаковываем архивы](image/42.png){#fig:042 width=30%}

## Установка программного обеспечения для создания документации

Помещаем файлы в каталог /usr/local/bin (рис.43).

![Перемещаем](image/43.png){#fig:043 width=50%}

## Установка программного обеспечения для создания документации

Установим дистрибутив TeXlive при помощи команды dnf -y install texlive-scheme-full (рис.44).

![Установка TeXlive ](image/44.png){#fig:044 width=50%}

## Домашнее задание

Дождёмся загрузки графического окружения и откроем терминал. В окне терминала проанализируем последовательность загрузки системы, выполнив команду dmesg (рис.45)

![Работа dmesg ](image/45.png){#fig:045 width=50%}

## Домашнее задание

Можем просто просмотреть вывод этой команды при помощи dmesg | less (рис.48).

![Результат](image/48.png){#fig:048 width=30%}

## Домашнее задание

Используя поиск с помощью grep (dmesg | grep -i "то, что ищем") получите следующую информацию:

1. Версия ядра Linux (Linux version) (рис.49).

![ Версия ядра Linux](image/49.png){#fig:049 width=50%}

## Домашнее задание

2. Частота процессора (Detected Mhz processor) (рис.50).

![Частота процессора](image/50.png){#fig:050 width=50%}

## Домашнее задание

3. Модель процессора (CPU0) (рис.51).

![Модель процессора](image/51.png){#fig:051 width=50%}

## Домашнее задание

4. Объём доступной оперативной памяти (Memory available) (рис.52).

![Объём доступной оперативной памяти](image/52.png){#fig:052 width=50%}

## Домашнее задание

5. Тип обнаруженного гипервизора (Hypervisor detected) (рис.53).

![Тип обнаруженного гипервизора](image/53.png){#fig:053 width=50%}

## Домашнее задание

6. Тип файловой системы корневого раздела (рис.54).

![Тип файловой системы корневого раздел](image/54.png){#fig:054 width=50%}

## Домашнее задание

7.Последовательность монтирования файловых систем (рис.55).

![Тип файловой системы корневого раздел](image/55.png){#fig:055 width=30%}

## Выводы

Я приобрела практические навыки установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы сервисов.

## Список литературы{.unnumbered}

https://selectel.ru/blog/directory-structure-linux/

https://intuit.ru/studies/courses/23/23/lecture/27143

туис

::: {#refs}
:::